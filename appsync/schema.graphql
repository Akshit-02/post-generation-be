type PostIdea @aws_cognito_user_pools {
  idea: String
  hook: String
  story: String
  visualText: String
  imagePrompt: String
  caption: String
  imageUrl: String
}

type GenerateIdeasForPostResponse @aws_cognito_user_pools {
  success: Boolean
  message: String
  ideas: [PostIdea]
}

input GeneratePostsInput {
  idea: String!
  hook: String
  story: String
  visualText: String
  imagePrompt: String
}

type GeneratePostResponse @aws_cognito_user_pools {
  success: Boolean
  message: String
  posts: [PostIdea]
}

type Query {
  generateIdeasForPost(industry: String!): GenerateIdeasForPostResponse @aws_cognito_user_pools
  generatePosts(input: [GeneratePostsInput]!): GeneratePostResponse @aws_cognito_user_pools
  getPublishedPostByUserId(userId: String!): PublishedPostResponse @aws_cognito_user_pools
  getSavedPostByUserId(userId: String!): SavedPostResponse @aws_cognito_user_pools
  getUserById(id: String!): User @aws_cognito_user_pools
}

type SyncResponse @aws_cognito_user_pools {
  success: Boolean!
  message: String
}

type PublishedPost @aws_cognito_user_pools {
  id: String!
  userId: String!
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

type PublishedPostResponse @aws_cognito_user_pools {
  items: [PublishedPost]
  nextToken: String
}

type Mutation {
  createPublishedPost(userId: String!): PublishedPost @aws_cognito_user_pools
  createSavedPost(userId: String!): SavedPost @aws_cognito_user_pools
  linkInstagramAccount(input: LinkInstagramAccountInput!): SyncResponse @aws_cognito_user_pools
}

type SavedPost @aws_cognito_user_pools {
  id: String!
  userId: String!
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

type SavedPostResponse @aws_cognito_user_pools {
  items: [SavedPost]
  nextToken: String
}

type User @aws_cognito_user_pools {
  id: String!
  email: String!
  igAccountId: String
  username: String
  name: String
  instagramRefreshToken: String
  instagramRefreshTokenUpdatedAt: String
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

input LinkInstagramAccountInput {
  id: String
  authCode: String
}

schema {
  query: Query
  mutation: Mutation
}
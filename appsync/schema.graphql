type PostIdea @aws_cognito_user_pools @aws_api_key {
  idea: String
  hook: String
  story: String
  visualText: String
  imagePrompt: String
  caption: String
  imageUrl: String
}

type GenerateIdeasForPostResponse @aws_cognito_user_pools @aws_api_key {
  success: Boolean
  message: String
  ideas: [PostIdea]
}

input GeneratePostsInput {
  idea: String!
  hook: String
  story: String
  visualText: String
  imagePrompt: String
}

type GeneratePostResponse @aws_cognito_user_pools @aws_api_key {
  success: Boolean
  message: String
  posts: [PostIdea]
}

type Query {
  generateIdeasForPost(industry: String!): GenerateIdeasForPostResponse @aws_cognito_user_pools @aws_api_key
  generatePosts(input: [GeneratePostsInput]!): GeneratePostResponse @aws_cognito_user_pools @aws_api_key
  getUserById(id: String!): User @aws_cognito_user_pools
}

type SyncResponse @aws_cognito_user_pools {
  success: Boolean!
  message: String
}

type User @aws_cognito_user_pools {
  id: String!
  email: String!
  igAccountId: String
  username: String
  name: String
  instagramRefreshToken: String
  instagramRefreshTokenUpdatedAt: String
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

input LinkInstagramAccountInput {
  id: String
  authCode: String
}

type Mutation {
  linkInstagramAccount(input: LinkInstagramAccountInput!): SyncResponse @aws_cognito_user_pools
}

schema {
  query: Query
  mutation: Mutation
}